# 베이스 이미지
FROM ubuntu:22.04

# 이미지 빌드 시 전달 받는 인자값
# 이미지 빌드 시점에서만 사용이 가능 함 (컨테이너 실행 시 사용이 불가능함)
# docker build --build-arg BUILD_MSG=값
ARG BUILD_MSG

# 이미지 빌드 시 실행할 명령어
# 용도 : 이미지를 만들 때 필요한 작업 (소프트웨어 설치, 파일 복사, 설정 변경 등)
# 레이어 : 각 RUN 명령은 새로운 레이어를 생성하므로 가능하면 줄이는 것이 유리함
RUN echo 이미지 빌드 시점 : $BUILD_MSG

# 이미지 빌드 컨테이너 실행 시 사용 할 수 있는 환경변수
ENV ENV_MSG=$BUILD_MSG

# 컨테이너 실행 시 항상 실행 할 명령
ENTRYPOINT echo $ENV_MSG